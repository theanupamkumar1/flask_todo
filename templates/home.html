{% extends 'base.html' %} {% block title %} home {% endblock title %} {% block
body %}

<body>
  <div class="container py-5">
    <form action="/" method="POST" class="mb-5">
      <div class="mb-3">
        <label for="title" class="form-label">Title:</label>
        <input type="text" id="title" name="title" class="form-control" />
      </div>
      <div class="mb-3">
        <label for="desc" class="form-label">Description:</label>
        <input type="text" id="desc" name="desc" class="form-control" />
      </div>
      <input type="submit" value="Add" class="btn btn-primary w-100" />
    </form>
    <h1>Todo List</h1>
    {% if my_todos|length==0 %}
    <div class="alert alert-light" role="alert">
      there is no any todo, add one now !
    </div>
    {% else %}

    <table>
      <tr>
        <th>S.No</th>
        <th>Title</th>
        <th>Description</th>
        <th>Date</th>
        <th colspan="2">Action</th>
      </tr>

      {% for todo in my_todos %}
      <tr>
        <td>{{loop.index}}</td>
        <td>{{todo.title}}</td>
        <td>{{todo.desc}}</td>
        <td>{{todo.date.strftime('%H:%M')}}</td>
        <td>
          <a href="/delete/{{todo.number}}"
            ><button type="button" class="btn btn-danger">Delete</button></a
          >
        </td>
        <td>
          <a href="/update/{{loop.index}}"
            ><button type="button" class="btn btn-warning">Edit</button></a
          >
        </td>
      </tr>
      {% endfor %} {% endif %}
    </table>
    {% endblock body %}
  </form>
</body>
